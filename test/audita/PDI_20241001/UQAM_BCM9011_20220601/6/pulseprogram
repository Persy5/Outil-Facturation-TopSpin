# 1 "C:/Bruker/TopSpin3.6.2/exp/stan/nmr/lists/pp/roesyphpp.2"
;roesyphpp.2
;avance-version (12/01/11)
;2D ROESY with cw spinlock for mixing
;phase sensitive
;spinlock using 180x 180-x pulses
;using purge pulses before d1
;
;A. Bax & D.G. Davis, J. Magn. Reson 63, 207-213 (1985)
;T.-L. Hwang & A.J. Shaka, J. Am. Chem. Soc. 114, 3157-3159 (1992)
;
;$CLASS=HighRes
;$DIM=2D
;$TYPE=
;$SUBTYPE=
;$COMMENT=
;$RECOMMEND=y


# 1 "C:/Bruker/TopSpin3.6.2/exp/stan/nmr/lists/pp/Avance.incl" 1
;Avance3.incl
;   for AV III
;
;avance-version (13/06/17)
;
;$CLASS=HighRes Incl
;$COMMENT=
# 169 "C:/Bruker/TopSpin3.6.2/exp/stan/nmr/lists/pp/Avance.incl"
;$Id: Avance3.incl,v 1.10.2.2 2013/08/30 09:43:33 ber Exp $
# 19 "C:/Bruker/TopSpin3.6.2/exp/stan/nmr/lists/pp/roesyphpp.2" 2


# 22 "C:/Bruker/TopSpin3.6.2/exp/stan/nmr/lists/pp/roesyphpp.2"
"d11=30m"
"d12=20u"


"in0=inf1"
# 28 "C:/Bruker/TopSpin3.6.2/exp/stan/nmr/lists/pp/roesyphpp.2"
"d0=in0/2-p1*2/3.1416-4u"


"l4=p15/(p25*2)"
# 1 "mc_line 34 file C:/Bruker/TopSpin3.6.2/exp/stan/nmr/lists/pp/roesyphpp.2 exp. def. part of mc cmd. before ze"
; dimension 2D; AQ_mode  (F1) States-TPPI
define delay MCWRK
define delay MCREST
define delay d0orig
"d0orig=d0"
define loopcounter t1loop
"t1loop=0"
define loopcounter ph1loop
"ph1loop=0"
define loopcounter ST1CNT
"ST1CNT = trunc(td1 / 2)"
"MCREST = d11 - d11"
"MCWRK = 0.200000*d11"

    dccorr
# 34 "C:/Bruker/TopSpin3.6.2/exp/stan/nmr/lists/pp/roesyphpp.2"
# 34 "C:/Bruker/TopSpin3.6.2/exp/stan/nmr/lists/pp/roesyphpp.2"
1 ze
# 1 "mc_line 34 file C:/Bruker/TopSpin3.6.2/exp/stan/nmr/lists/pp/roesyphpp.2 exp. def. of mc cmd. after ze"
LBLAV, MCWRK
      "d0=d0orig + t1loop * in0 "
      "phval1 = (ph1loop % 4) * 90"
      MCWRK ip1 + phval1
# 35 "C:/Bruker/TopSpin3.6.2/exp/stan/nmr/lists/pp/roesyphpp.2"
# 1 "mc_line 35 file C:/Bruker/TopSpin3.6.2/exp/stan/nmr/lists/pp/roesyphpp.2 exp. start label for mc cmd."
2 MCWRK  * 2
LBLF1, MCWRK  * 2
LBLST1, MCWRK
  MCREST
# 36 "C:/Bruker/TopSpin3.6.2/exp/stan/nmr/lists/pp/roesyphpp.2"

3 d12 pl10:f1
  p17 ph4
  p17*2 ph5
  d1 pl1:f1

  p1 ph1
  d0 
  4u pl27:f1
4 p25 ph2
  p25 ph3
  lo to 4 times l4
  go=2 ph31
# 1 "mc_line 49 file C:/Bruker/TopSpin3.6.2/exp/stan/nmr/lists/pp/roesyphpp.2 exp. mc cmd. in line"
  MCWRK  wr #0 if #0 zd 

  "ph1loop+=1"
      "d0=d0orig + t1loop * in0 "
      "phval1 = (ph1loop % 4) * 90"
      MCWRK ip1 + phval1
  lo to LBLF1 times 2
  MCWRK 

  "t1loop+=1"
      "d0=d0orig + t1loop * in0 "
      "phval1 = (ph1loop % 4) * 90"
      MCWRK ip1 + phval1
  lo to LBLST1 times ST1CNT
  MCWRK 
  "t1loop=0"
  "ph1loop=0"
  MCWRK rf #0
  lo to LBLAV times tdav
# 50 "C:/Bruker/TopSpin3.6.2/exp/stan/nmr/lists/pp/roesyphpp.2"
exit
# 53 "C:/Bruker/TopSpin3.6.2/exp/stan/nmr/lists/pp/roesyphpp.2"
ph1=0 2 2 0 1 3 3 1 
ph2=0 2 0 2 1 3 1 3
ph3=2 0 2 0 3 1 3 1
ph4=0
ph5=1
ph31=0 2 2 0 1 3 3 1


;pl1 : f1 channel - power level for pulse (default)
;pl10: f1 channel - power level for TOCSY-spinlock
;pl27: f1 channel - power level for pulsed ROESY-spinlock
;p1 : f1 channel -  90 degree high power pulse
;p15: f1 channel - pulse for ROESY spinlock
;p17: f1 channel - trim pulse                             [2.5 msec]
;p25: f1 channel - 180 degree pulse at pl27
;d0 : incremented delay (2D)
;d1 : relaxation delay; 1-5 * T1
;d12: delay for power switching                           [20 usec]
;l4: loop for spinlock = p15 / p25*2
;inf1: 1/SW = 2 * DW
;in0: 1/(1 * SW) = 2 * DW
;nd0: 1
;ns: 8 * n
;ds: 16
;td1: number of experiments
;FnMODE: States-TPPI, TPPI, States or QSEQ
# 81 "C:/Bruker/TopSpin3.6.2/exp/stan/nmr/lists/pp/roesyphpp.2"
;Processing

;PHC0(F1): 90
;PHC1(F1): -180
;FCOR(F1): 1

# 89 "C:/Bruker/TopSpin3.6.2/exp/stan/nmr/lists/pp/roesyphpp.2"
;$Id: roesyphpp.2,v 1.8 2012/01/31 17:49:28 ber Exp $
